{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  name: \"data\",\n  data() {\n    return {\n      currentPage: 1,\n      pageSize: 10,\n      total: 10,\n      search: \"\",\n      dialogVisible: false,\n      states: [{\n        value: 1,\n        label: \"yes\"\n      }, {\n        value: 0,\n        label: \"no\"\n      }],\n      formdata: {},\n      tableData: []\n    };\n  },\n  created: function () {\n    let _this = this;\n    _this.list();\n    // sidebar激活样式方法一\n    // this.$parent.activeSidebar(\"business-teacher-sidebar\");\n  },\n\n  methods: {\n    add() {\n      this.dialogVisible = true;\n      this.formdata = {};\n    },\n    save() {\n      if (this.formdata.id) {\n        request.put(\"/manager/update\", this.formdata).then(res => {\n          console.log(res);\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"update successfully\"\n            });\n          } else {\n            this.$message({\n              type: \"false\",\n              message: res.msg\n            });\n          }\n        });\n        this.dialogVisible = false;\n      } else {\n        request.post(\"/manager/save\", this.formdata).then(res => {\n          console.log(res);\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"insert successfully\"\n            });\n          } else {\n            this.$message({\n              type: \"false\",\n              message: res.msg\n            });\n          }\n        });\n        this.dialogVisible = false;\n      }\n      location.reload();\n    },\n    list() {\n      request.get(\"/manager/list\", {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search\n        }\n      }).then(res => {\n        let prodata = res.data.records;\n        this.total = res.data.total;\n        for (let one of prodata) {\n          if (one.repair == 1) {\n            one.repair = 'good';\n          } else if (one.repair == 0) {\n            one.repair = 'damaged';\n          } else if (one.repair == 2) {\n            one.repair = 'being';\n          }\n          if (one.charge == 1) {\n            one.charge = 'good';\n          } else if (one.charge == 0) {\n            one.charge = 'low power';\n          } else if (one.charge == 2) {\n            one.charge = 'being';\n          }\n          if (one.service == 1) {\n            one.service = 'using';\n          } else if (one.service == 0) {\n            one.service = 'spare';\n          }\n          if (one.available == 1) {\n            one.available = 'good';\n          } else if (one.available == 0) {\n            one.available = 'not available';\n          }\n        }\n        this.tableData = prodata;\n        console.log(this.tableData);\n      });\n    },\n    handleEdit(row) {\n      let prodata = JSON.parse(JSON.stringify(row));\n      if (prodata.repair === 'good') {\n        prodata.repair = 1;\n      } else if (prodata.repair === 'damaged') {\n        prodata.repair = 0;\n      } else if (prodata.repair === 'being') {\n        prodata.repair = 2;\n      }\n      if (prodata.charge === 'good') {\n        prodata.charge = 1;\n      } else if (prodata.charge === 'low power') {\n        prodata.charge = 0;\n      } else if (prodata.charge === 'being') {\n        prodata.charge = 2;\n      }\n      if (prodata.service === 'using') {\n        prodata.service = 1;\n      } else if (prodata.service === 'spare') {\n        prodata.service = 0;\n      }\n      if (prodata.available === 'good') {\n        prodata.available = 1;\n      } else if (prodata.available === 'not available') {\n        prodata.available = 0;\n      }\n      this.formdata = prodata;\n      console.log(this.formdata);\n      this.dialogVisible = true;\n    },\n    handleDelete(id) {\n      request.delete(\"/manager/del/\" + id).then(res => {\n        if (res.code === '0') {\n          this.$message({\n            type: \"success\",\n            message: \"delete successfully\"\n          });\n        } else {\n          this.$message({\n            type: \"false\",\n            message: res.msg\n          });\n        }\n      });\n      location.reload();\n    },\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.list();\n    },\n    handleCurrentChange(pageNumber) {\n      this.currentPage = pageNumber;\n      this.list();\n    }\n  }\n};","map":{"version":3,"names":["request","name","data","currentPage","pageSize","total","search","dialogVisible","states","value","label","formdata","tableData","created","_this","list","methods","add","save","id","put","then","res","console","log","code","$message","type","message","msg","post","location","reload","get","params","pageNum","prodata","records","one","repair","charge","service","available","handleEdit","row","JSON","parse","stringify","handleDelete","delete","handleSizeChange","handleCurrentChange","pageNumber"],"sources":["/Users/ning/it26/it26/VUE/src/views/Test.vue"],"sourcesContent":["<template>\n  <div style=\"padding:10px;flex: auto\">\n    <div style=\"margin: 10px 0\">\n      <el-button type=\"primary\" @click=\"add\">add</el-button>\n      <el-input v-model=\"search\" placeholder=\"please enter key words\" style=\"width: 30%\" clearable></el-input>\n      <el-button type=\"primary\" @click=\"list\">search</el-button>\n    </div>\n    <div>\n      <el-table :data=\"tableData\" style=\"width: 100%\"\n                border\n                stripe\n      >\n        <el-table-column prop=\"uuid\" label=\"Uuid\" sortable  />\n        <el-table-column prop=\"repair\" label=\"Repair\" sortable />\n        <el-table-column prop=\"charge\" label=\"Charge\" sortable/>\n        <el-table-column prop=\"battery\" label=\"Battery\" sortable/>\n        <el-table-column prop=\"journey\" label=\"Journey\" sortable/>\n        <el-table-column prop=\"income\" label=\"Income\" sortable/>\n        <el-table-column prop=\"positionx\" label=\"Positionx\" sortable/>\n        <el-table-column prop=\"positiony\" label=\"Positiony\" sortable/>\n        <el-table-column prop=\"available\" label=\"Available\" sortable/>\n        <el-table-column prop=\"service\" label=\"Service\" sortable/>\n\n        <el-table-column fixed=\"right\" label=\"Operations\" width=\"auto\">\n          <template #default=\"scope\">\n            <el-button type=\"primary\" size=\"small\" @click=\"handleEdit(scope.row)\">Edit</el-button>\n            <el-popconfirm title=\"Are you sure?\" @confirm=\"handleDelete(scope.row.id)\">\n              <template #reference>\n                <el-button type=\"danger\" size=\"small\" >Delete</el-button>\n              </template>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n          v-model:currentPage=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :page-sizes=\"[5,10,20]\"\n          :small=\"small\"\n          :disabled=\"disabled\"\n          :background=\"background\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"this.total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n\n    <el-dialog\n        v-model=\"dialogVisible\"\n        title=\"Add or Edit data\"\n        width=\"30%\"\n        :before-close=\"handleClose\"\n    >\n      <el-form :model=\"formdata\" label-width=\"120px\">\n        <el-form-item label=\"Uuid\">\n          <input disabled v-model=\"formdata.uuid\"/>\n        </el-form-item>\n        <el-form-item label=\"Repair\">\n          <el-radio-group v-model=\"formdata.repair\" class=\"ml-4\">\n            <el-radio label=\"1\" size=\"large\">Good</el-radio>\n            <el-radio label=\"0\" size=\"large\">Damaged</el-radio>\n            <el-radio label=\"2\" size=\"large\">Being</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"Charge\">\n          <el-radio-group v-model=\"formdata.charge\" class=\"ml-4\">\n            <el-radio label=\"1\" size=\"large\">Good</el-radio>\n            <el-radio label=\"0\" size=\"large\">Low power</el-radio>\n            <el-radio label=\"2\" size=\"large\">Being</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"battery\">\n          <div class=\"slider-demo-block\">\n            <el-slider v-model=\"formdata.battery\" style=\"width: 200px\" />\n          </div>\n        </el-form-item>\n        <el-form-item label=\"journey\">\n          <el-input v-model=\"formdata.journey\" style=\"width: 80%;\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Income\">\n          <el-input v-model=\"formdata.income\" style=\"width: 80%;\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Positionx\">\n          <el-input v-model=\"formdata.positionx\" style=\"width: 80%;\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Positiony\">\n          <el-input v-model=\"formdata.positiony\" style=\"width: 80%;\"></el-input>\n        </el-form-item>\n        <!--        <el-form-item label=\"Available\">-->\n        <!--          <el-radio-group disabled v-model=\"formdata.available\" class=\"ml-4\">-->\n        <!--            <el-radio label=\"1\" size=\"large\">yes</el-radio>-->\n        <!--            <el-radio label=\"0\" size=\"large\">no</el-radio>-->\n        <!--          </el-radio-group>-->\n        <!--        </el-form-item>-->\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"save\">Confirm</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"data\",\n  data(){\n    return {\n      currentPage:1,\n      pageSize:10,\n      total:10,\n      search:\"\",\n      dialogVisible:false,\n      states:[\n        {\n          value: 1,\n          label: \"yes\",\n        },\n        {\n          value: 0,\n          label: \"no\",\n        }\n      ],\n      formdata:{},\n      tableData:[\n      ]\n    }\n  },\n  created:function() {\n    let _this = this;\n    _this.list();\n    // sidebar激活样式方法一\n    // this.$parent.activeSidebar(\"business-teacher-sidebar\");\n  },\n  methods:{\n    add(){\n      this.dialogVisible = true\n      this.formdata = {}\n    },\n    save(){\n      if(this.formdata.id){\n        request.put(\"/manager/update\",this.formdata).then(res =>{\n          console.log(res)\n          if(res.code === '0'){\n            this.$message({\n              type:\"success\",\n              message:\"update successfully\"\n            })\n          }else{\n            this.$message({\n              type:\"false\",\n              message:res.msg\n            })\n          }\n        })\n        this.dialogVisible = false\n      }else {\n        request.post(\"/manager/save\",this.formdata).then(res => {\n          console.log(res)\n          if(res.code === '0'){\n            this.$message({\n              type:\"success\",\n              message:\"insert successfully\"\n            })\n          }else{\n            this.$message({\n              type:\"false\",\n              message:res.msg\n            })\n          }\n        })\n        this.dialogVisible = false\n      }\n      location.reload()\n    },\n    list(){\n      request.get(\"/manager/list\",{\n        params:{\n          pageNum:this.currentPage,\n          pageSize:this.pageSize,\n          search:this.search,\n        }\n      }).then(res =>{\n        let prodata = res.data.records\n        this.total = res.data.total\n        for (let one of prodata) {\n          if (one.repair == 1) {\n            one.repair = 'good';\n          } else if (one.repair == 0) {\n            one.repair = 'damaged';\n          }else if (one.repair == 2) {\n            one.repair = 'being';\n          }\n          if (one.charge == 1) {\n            one.charge = 'good';\n          } else if (one.charge == 0) {\n            one.charge = 'low power';\n          }else if (one.charge == 2) {\n            one.charge = 'being';\n          }\n          if (one.service == 1) {\n            one.service = 'using';\n          } else if (one.service == 0) {\n            one.service = 'spare';\n          }\n          if (one.available == 1) {\n            one.available = 'good';\n          } else if (one.available == 0) {\n            one.available = 'not available';\n          }\n        }\n        this.tableData = prodata\n        console.log(this.tableData)\n      })\n    },\n    handleEdit(row){\n      let prodata = JSON.parse(JSON.stringify(row))\n      if (prodata.repair === 'good') {\n        prodata.repair = 1;\n      } else if (prodata.repair === 'damaged') {\n        prodata.repair = 0;\n      }else if (prodata.repair === 'being') {\n        prodata.repair = 2;\n      }\n      if (prodata.charge === 'good') {\n        prodata.charge = 1;\n      } else if (prodata.charge === 'low power') {\n        prodata.charge = 0;\n      }else if (prodata.charge === 'being') {\n        prodata.charge = 2;\n      }\n      if (prodata.service === 'using') {\n        prodata.service = 1;\n      } else if (prodata.service === 'spare') {\n        prodata.service = 0;\n      }\n      if (prodata.available === 'good') {\n        prodata.available = 1;\n      } else if (prodata.available === 'not available') {\n        prodata.available = 0;\n      }\n      this.formdata = prodata\n      console.log(this.formdata)\n      this.dialogVisible = true\n    },\n    handleDelete(id){\n      request.delete(\"/manager/del/\" + id).then(res =>{\n        if(res.code === '0'){\n          this.$message({\n            type:\"success\",\n            message:\"delete successfully\"\n          })\n        }else{\n          this.$message({\n            type:\"false\",\n            message:res.msg\n          })\n        }\n      })\n      location.reload()\n    },\n    handleSizeChange(pageSize){\n      this.pageSize = pageSize\n      this.list()\n    },\n    handleCurrentChange(pageNumber){\n      this.currentPage = pageNumber\n      this.list()\n    },\n\n  }\n}\n\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}