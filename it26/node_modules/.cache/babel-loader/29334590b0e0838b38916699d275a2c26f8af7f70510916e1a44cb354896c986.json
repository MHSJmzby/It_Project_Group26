{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  name: \"order\",\n  data() {\n    return {\n      currentPage: 1,\n      pageSize: 10,\n      total: 10,\n      search: \"\",\n      dialogVisible: false,\n      states: [{\n        value: 1,\n        label: \"yes\"\n      }, {\n        value: 0,\n        label: \"no\"\n      }],\n      formdata: {},\n      tableData: []\n    };\n  },\n  created: function () {\n    let _this = this;\n    _this.list();\n    // sidebar激活样式方法一\n    // this.$parent.activeSidebar(\"business-teacher-sidebar\");\n  },\n\n  methods: {\n    add() {\n      this.dialogVisible = true;\n      this.formdata = {};\n    },\n    save() {\n      if (this.formdata.id) {\n        request.put(\"/report/order/update\", this.formdata).then(res => {\n          console.log(res);\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"update successfully\"\n            });\n          } else {\n            this.$message({\n              type: \"false\",\n              message: res.msg\n            });\n          }\n        });\n        this.dialogVisible = false;\n      } else {\n        request.post(\"/report/order/save\", this.formdata).then(res => {\n          console.log(res);\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"insert successfully\"\n            });\n          } else {\n            this.$message({\n              type: \"false\",\n              message: res.msg\n            });\n          }\n        });\n        this.dialogVisible = false;\n      }\n      location.reload();\n    },\n    list() {\n      request.get(\"/report/order/list\", {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          search: this.search\n        }\n      }).then(res => {\n        this.total = res.data.total;\n        this.tableData = res.data.records;\n      });\n    },\n    handleEdit(row) {\n      this.formdata = JSON.parse(JSON.stringify(row));\n      console.log(this.formdata);\n      this.dialogVisible = true;\n    },\n    handleDelete(id) {\n      request.delete(\"/report/order/del/\" + id).then(res => {\n        if (res.code === '0') {\n          this.$message({\n            type: \"success\",\n            message: \"delete successfully\"\n          });\n        } else {\n          this.$message({\n            type: \"false\",\n            message: res.msg\n          });\n        }\n      });\n      location.reload();\n    },\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.list();\n    },\n    handleCurrentChange(pageNumber) {\n      this.currentPage = pageNumber;\n      this.list();\n    }\n  }\n};","map":{"version":3,"names":["request","name","data","currentPage","pageSize","total","search","dialogVisible","states","value","label","formdata","tableData","created","_this","list","methods","add","save","id","put","then","res","console","log","code","$message","type","message","msg","post","location","reload","get","params","pageNum","records","handleEdit","row","JSON","parse","stringify","handleDelete","delete","handleSizeChange","handleCurrentChange","pageNumber"],"sources":["/Users/ning/it26/it26/VUE/src/views/Test.vue"],"sourcesContent":["<template>\n  <div style=\"padding:10px;flex: auto\">\n    <div style=\"margin: 10px 0\">\n      <el-button type=\"primary\" @click=\"add\">add</el-button>\n      <el-input v-model=\"search\" placeholder=\"please enter key words\" style=\"width: 30%\" clearable></el-input>\n      <el-button type=\"primary\" @click=\"list\">search</el-button>\n    </div>\n    <div>\n      <el-table :data=\"tableData\" style=\"width: 100%\"\n                border\n                stripe\n      >\n        <el-table-column prop=\"uuid\" label=\"Uuid\" sortable  />\n        <el-table-column prop=\"vid\" label=\"VehicleId\" sortable/>\n        <el-table-column prop=\"userid\" label=\"UserId\" sortable/>\n        <el-table-column prop=\"date\" label=\"Date\" sortable/>\n        <el-table-column prop=\"income\" label=\"Income\" sortable/>\n        <el-table-column prop=\"journey\" label=\"Journey\" sortable/>\n\n        <el-table-column fixed=\"right\" label=\"Operations\" width=\"auto\">\n          <template #default=\"scope\">\n            <el-button type=\"primary\" size=\"small\" @click=\"handleEdit(scope.row)\">Detail/Edit</el-button>\n            <el-popconfirm title=\"Are you sure?\" @confirm=\"handleDelete(scope.row.id)\">\n              <template #reference>\n                <el-button type=\"danger\" size=\"small\" >Delete</el-button>\n              </template>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n          v-model:currentPage=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :page-sizes=\"[5,10,20]\"\n          :small=\"small\"\n          :disabled=\"disabled\"\n          :background=\"background\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"this.total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n\n    <el-dialog\n        v-model=\"dialogVisible\"\n        title=\"Add or Edit new data\"\n        width=\"30%\"\n        :before-close=\"handleClose\"\n    >\n      <el-form :model=\"formdata\" label-width=\"120px\">\n        <el-form-item label=\"Uuid\">\n          <input disabled v-model=\"formdata.uuid\"/>\n        </el-form-item>\n\n        <el-form-item label=\"VehicleId\">\n          <input  v-model=\"formdata.vid\"/>\n        </el-form-item>\n\n        <el-form-item label=\"UserId\">\n          <input  v-model=\"formdata.userid\"/>\n        </el-form-item>\n\n        <el-form-item label=\"Date\">\n          <div class=\"demo-date-picker\">\n            <div class=\"block\">\n              <span class=\"demonstration\"></span>\n              <el-date-picker\n                  v-model=\"formdata.date\"\n                  type=\"date\"\n                  placeholder=\"Pick a day\"\n                  :size=\"size\"\n              />\n            </div>\n          </div>\n        </el-form-item>\n\n        <el-form-item label=\"Income\">\n          <input v-model=\"formdata.income\"/>\n        </el-form-item>\n\n        <el-form-item label=\"Journey\">\n          <input v-model=\"formdata.journey\"/>\n        </el-form-item>\n\n      </el-form>\n\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"save\">Confirm</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"order\",\n  data(){\n    return {\n      currentPage:1,\n      pageSize:10,\n      total:10,\n      search:\"\",\n      dialogVisible:false,\n      states:[\n        {\n          value: 1,\n          label: \"yes\",\n        },\n        {\n          value: 0,\n          label: \"no\",\n        }\n      ],\n      formdata:{},\n      tableData:[\n      ]\n    }\n  },\n  created:function() {\n    let _this = this;\n    _this.list();\n    // sidebar激活样式方法一\n    // this.$parent.activeSidebar(\"business-teacher-sidebar\");\n  },\n  methods:{\n    add(){\n      this.dialogVisible = true\n      this.formdata = {}\n    },\n    save(){\n      if(this.formdata.id){\n        request.put(\"/report/order/update\",this.formdata).then(res =>{\n          console.log(res)\n          if(res.code === '0'){\n            this.$message({\n              type:\"success\",\n              message:\"update successfully\"\n            })\n          }else{\n            this.$message({\n              type:\"false\",\n              message:res.msg\n            })\n          }\n        })\n        this.dialogVisible = false\n      }else {\n        request.post(\"/report/order/save\",this.formdata).then(res => {\n          console.log(res)\n          if(res.code === '0'){\n            this.$message({\n              type:\"success\",\n              message:\"insert successfully\"\n            })\n          }else{\n            this.$message({\n              type:\"false\",\n              message:res.msg\n            })\n          }\n        })\n        this.dialogVisible = false\n      }\n      location.reload()\n    },\n    list(){\n      request.get(\"/report/order/list\",{\n        params:{\n          pageNum:this.currentPage,\n          pageSize:this.pageSize,\n          search:this.search,\n        }\n      }).then(res =>{\n        this.total = res.data.total\n        this.tableData = res.data.records\n      })\n    },\n    handleEdit(row){\n      this.formdata = JSON.parse(JSON.stringify(row))\n      console.log(this.formdata)\n      this.dialogVisible = true\n    },\n    handleDelete(id){\n      request.delete(\"/report/order/del/\" + id).then(res =>{\n        if(res.code === '0'){\n          this.$message({\n            type:\"success\",\n            message:\"delete successfully\"\n          })\n        }else{\n          this.$message({\n            type:\"false\",\n            message:res.msg\n          })\n        }\n      })\n      location.reload()\n    },\n    handleSizeChange(pageSize){\n      this.pageSize = pageSize\n      this.list()\n    },\n    handleCurrentChange(pageNumber){\n      this.currentPage = pageNumber\n      this.list()\n    },\n\n  }\n}\n\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}