{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"margin\": \"10px\",\n    \"font-size\": \"large\",\n    \"font-weight\": \"bold\",\n    \"text-align\": \"center\"\n  }\n}, \" Movie Ticket Online Ordering System \", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"100%\"\n  }\n}, \"Don't have a Account?\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_link = _resolveComponent(\"el-link\");\n  const _component_el_radio = _resolveComponent(\"el-radio\");\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_tabs = _resolveComponent(\"el-tabs\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    style: _normalizeStyle([{\n      \"width\": \"400px\",\n      \"margin\": \"60px auto\"\n    }, {\n      boxShadow: '--el-box-shadow-dark'\n    }]),\n    class: \"flex flex-col justify-center items-center inline-flex\"\n  }, [_createVNode(_component_el_tabs, {\n    type: \"border-card\"\n  }, {\n    default: _withCtx(() => [_hoisted_1, _createVNode(_component_el_form, {\n      \"label-position\": 'top',\n      \"label-width\": \"100px\",\n      model: $data.form,\n      style: {\n        \"margin-top\": \"50px\",\n        \"max-width\": \"460px\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"Username\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.form.name,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.name = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"Password\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.form.password,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.password = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        style: {\n          \"padding-left\": \"150px\",\n          \"padding-top\": \"10px\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          color: \"black\",\n          type: \"primary\",\n          onClick: $options.login\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" Login \")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        style: {\n          \"margin-left\": \"110px\"\n        }\n      }, {\n        default: _withCtx(() => [_hoisted_2, _createVNode(_component_el_link, {\n          style: {\n            \"margin-left\": \"40px\"\n          },\n          type: \"primary\",\n          onClick: _cache[2] || (_cache[2] = $event => _ctx.$router.push('/register'))\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Sign up\")]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        style: {\n          \"margin-left\": \"100px\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n          modelValue: $data.radio,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.radio = $event),\n          class: \"ml-4\",\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_radio, {\n            label: \"1\",\n            border: \"\",\n            onClick: _cache[3] || (_cache[3] = $event => $data.form.state = 0)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"User\")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_radio, {\n            label: \"2\",\n            border: \"\",\n            onClick: _cache[4] || (_cache[4] = $event => $data.form.state = 1)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Admin\")]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\"])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["_createElementVNode","style","_createElementBlock","_normalizeStyle","boxShadow","class","_createVNode","_component_el_tabs","type","_hoisted_1","_component_el_form","model","$data","form","_component_el_form_item","label","_component_el_input","name","$event","password","_component_el_button","color","onClick","$options","login","_hoisted_2","_component_el_link","_cache","_ctx","$router","push","_component_el_radio_group","radio","size","_component_el_radio","border","state"],"sources":["/Users/ning/it26/it26/VUE/src/views/Login.vue"],"sourcesContent":["<template>\n  <div\n      style=\"width: 400px; margin: 60px auto\"\n      class=\"flex flex-col justify-center items-center inline-flex\"\n      :style=\"{boxShadow: '--el-box-shadow-dark',}\"\n  >\n    <el-tabs type=\"border-card\">\n      <div style=\"margin: 10px; font-size: large; font-weight: bold; text-align: center\">\n        Movie Ticket Online Ordering System\n      </div>\n\n      <el-form\n          :label-position=\"'top'\"\n          label-width=\"100px\"\n          :model=\"form\"\n          style=\"margin-top: 50px; max-width: 460px;\"\n      >\n        <el-form-item label=\"Username\">\n          <el-input v-model=\"form.name\" />\n        </el-form-item>\n        <el-form-item label=\"Password\">\n          <el-input v-model=\"form.password\" />\n        </el-form-item>\n        <el-form-item style=\" padding-left: 150px; padding-top: 10px\">\n          <el-button color='black' type=\"primary\" @click=\"login\">\n            Login\n          </el-button>\n        </el-form-item>\n        <el-form-item style=\"margin-left: 110px\">\n          <div style=\"width: 100%\">Don't have a Account?</div>\n          <el-link style=\"margin-left: 40px\" type=\"primary\" @click=\"$router.push('/register')\">Sign up</el-link>\n        </el-form-item>\n        <el-form-item style=\"margin-left: 100px\">\n          <el-radio-group v-model=\"radio\" class=\"ml-4\" size=\"small\">\n            <el-radio label=\"1\" border @click=\"form.state = 0\">User</el-radio>\n            <el-radio label=\"2\" border @click=\"form.state = 1\">Admin</el-radio>\n          </el-radio-group>\n        </el-form-item>\n      </el-form>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\nimport router from \"@/router\";\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"Login\",\n  components: {},\n  rules: {\n    username: [\n      {required: true, message: '请输入用户名', trigger: 'blur'},\n    ],\n    password: [\n      {required: true, message: '请输入密码', trigger: 'blur'},\n    ],\n  },\n  data() {\n    return {\n      radio: '1',\n      form: [\n        {\n          state: 0,\n        }\n      ],\n    }\n  },\n  methods: {\n    login () {\n      this.$refs['form'].validate((valid) => {\n        request.post(\"/login\", this.form).then(res => {\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"Login Successfully\"\n            })\n            sessionStorage.setItem(\"user\", JSON.stringify(res.data))  // 缓存用户信息\n\n            // 登录成功的时候更新当前路由\n            // activeRouter()\n            if(this.form.state == 0){  //User\n              router.push(\"/booking\")\n            }\n            else{\n              router.push(\"/movies\")  //Admin\n            }\n\n\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            })\n          }\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":";;gCAOMA,mBAAA,CAEM;EAFDC,KAA6E,EAA7E;IAAA;IAAA;IAAA;IAAA;EAAA;AAA6E,GAAC,uCAEnF;gCAoBID,mBAAA,CAAoD;EAA/CC,KAAmB,EAAnB;IAAA;EAAA;AAAmB,GAAC,uBAAqB;;;;;;;;;;;uBA5BtDC,mBAAA,CAuCM;IAtCFD,KAAuC,EAAAE,eAAA,EAAvC;MAAA;MAAA;IAAA,CAAuC,EAE/B;MAAAC,SAAA;IAAA,CAAoC;IAD5CC,KAAK,EAAC;MAGRC,YAAA,CAiCUC,kBAAA;IAjCDC,IAAI,EAAC;EAAa;sBACzB,MAEM,CAFNC,UAEM,EAENH,YAAA,CA2BUI,kBAAA;MA1BL,gBAAc,EAAE,KAAK;MACtB,aAAW,EAAC,OAAO;MAClBC,KAAK,EAAEC,KAAA,CAAAC,IAAI;MACZZ,KAA2C,EAA3C;QAAA;QAAA;MAAA;;wBAEF,MAEe,CAFfK,YAAA,CAEeQ,uBAAA;QAFDC,KAAK,EAAC;MAAU;0BAC5B,MAAgC,CAAhCT,YAAA,CAAgCU,mBAAA;sBAAbJ,KAAA,CAAAC,IAAI,CAACI,IAAI;qEAATL,KAAA,CAAAC,IAAI,CAACI,IAAI,GAAAC,MAAA;;;UAE9BZ,YAAA,CAEeQ,uBAAA;QAFDC,KAAK,EAAC;MAAU;0BAC5B,MAAoC,CAApCT,YAAA,CAAoCU,mBAAA;sBAAjBJ,KAAA,CAAAC,IAAI,CAACM,QAAQ;qEAAbP,KAAA,CAAAC,IAAI,CAACM,QAAQ,GAAAD,MAAA;;;UAElCZ,YAAA,CAIeQ,uBAAA;QAJDb,KAA+C,EAA/C;UAAA;UAAA;QAAA;MAA+C;0BAC3D,MAEY,CAFZK,YAAA,CAEYc,oBAAA;UAFDC,KAAK,EAAC,OAAO;UAACb,IAAI,EAAC,SAAS;UAAEc,OAAK,EAAEC,QAAA,CAAAC;;4BAAO,MAEvD,C,iBAFuD,SAEvD,E;;;;UAEFlB,YAAA,CAGeQ,uBAAA;QAHDb,KAA0B,EAA1B;UAAA;QAAA;MAA0B;0BACtC,MAAoD,CAApDwB,UAAoD,EACpDnB,YAAA,CAAsGoB,kBAAA;UAA7FzB,KAAyB,EAAzB;YAAA;UAAA,CAAyB;UAACO,IAAI,EAAC,SAAS;UAAEc,OAAK,EAAAK,MAAA,QAAAA,MAAA,MAAAT,MAAA,IAAEU,IAAA,CAAAC,OAAO,CAACC,IAAI;;4BAAe,MAAO,C,iBAAP,SAAO,E;;;;;UAE9FxB,YAAA,CAKeQ,uBAAA;QALDb,KAA0B,EAA1B;UAAA;QAAA;MAA0B;0BACtC,MAGiB,CAHjBK,YAAA,CAGiByB,yBAAA;sBAHQnB,KAAA,CAAAoB,KAAK;qEAALpB,KAAA,CAAAoB,KAAK,GAAAd,MAAA;UAAEb,KAAK,EAAC,MAAM;UAAC4B,IAAI,EAAC;;4BAChD,MAAkE,CAAlE3B,YAAA,CAAkE4B,mBAAA;YAAxDnB,KAAK,EAAC,GAAG;YAACoB,MAAM,EAAN,EAAM;YAAEb,OAAK,EAAAK,MAAA,QAAAA,MAAA,MAAAT,MAAA,IAAEN,KAAA,CAAAC,IAAI,CAACuB,KAAK;;8BAAM,MAAI,C,iBAAJ,MAAI,E;;cACvD9B,YAAA,CAAmE4B,mBAAA;YAAzDnB,KAAK,EAAC,GAAG;YAACoB,MAAM,EAAN,EAAM;YAAEb,OAAK,EAAAK,MAAA,QAAAA,MAAA,MAAAT,MAAA,IAAEN,KAAA,CAAAC,IAAI,CAACuB,KAAK;;8BAAM,MAAK,C,iBAAL,OAAK,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}