{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  name: \"UserCenter\",\n  components: {},\n  data() {\n    return {\n      Dialoguser: false,\n      form: {}\n    };\n  },\n  created() {\n    let str = sessionStorage.getItem(\"user\") || \"{}\";\n    this.form = JSON.parse(str);\n  },\n  methods: {\n    // handleAvatarSuccess(res) {\n    //   this.form.avatar = res.data\n    //   this.$message.success(\"上传成功\")\n    //   // this.update()\n    // },\n    update() {\n      request.put(\"/usercenter/\", this.form).then(res => {\n        console.log(res);\n        if (res.code === '0') {\n          this.$message({\n            type: \"success\",\n            message: \"Update Successfully\"\n          });\n          sessionStorage.setItem(\"user\", JSON.stringify(this.form));\n          // 触发Layout更新用户信息\n          this.$emit(\"userInfo\");\n        } else {\n          this.$message({\n            type: \"error\",\n            message: res.msg\n          });\n        }\n        this.Dialoguser = false;\n      });\n    }\n  }\n};","map":{"version":3,"names":["request","name","components","data","Dialoguser","form","created","str","sessionStorage","getItem","JSON","parse","methods","update","put","then","res","console","log","code","$message","type","message","setItem","stringify","$emit","msg"],"sources":["/Users/ning/it26/it26/VUE/src/views/Userviews/UserCenter.vue"],"sourcesContent":["<template>\n  <div style=\"width: 100%; padding: 10px; position: center\">\n<!--    Personal Information-->\n    <div style=\"margin: 10px\" class=\"demo-basic--circle\">\n      <div class=\"block\">\n        <el-avatar :size=\"100\" :src=\"'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png'\" />\n      </div>\n    </div>\n\n\n    <el-card style=\"width: 40%; \">\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n<!--        <el-form-item style=\"text-align: center\" label-width=\"0\">-->\n<!--          <el-upload-->\n<!--              class=\"avatar-uploader\"-->\n<!--              :show-file-list=\"false\"-->\n<!--          >-->\n<!--            <img v-if=\"form.avatar\" :src=\"form.avatar\" class=\"avatar\">-->\n<!--            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>-->\n<!--          </el-upload>-->\n<!--        </el-form-item>-->\n        <el-form-item label=\"ID\">\n          <el-input v-model=\"form.id\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"Username\">\n          <el-input v-model=\"form.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Email\">\n          <el-input v-model=\"form.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Password\">\n          <el-input v-model=\"form.password\" show-password></el-input>\n        </el-form-item>\n      </el-form>\n      <div style=\"text-align: center\">\n        <el-button type=\"primary\" @click=\"Dialoguser=true\">Save</el-button>\n      </div>\n    </el-card>\n  </div>\n\n  <div>\n    <el-dialog\n        v-model=\"Dialoguser\"\n        title=\"Tips\"\n        width=\"30%\"\n        align-center\n    >\n      <span>Do you confirm the Edit?</span>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"update\">\n            Confirm\n          </el-button>\n          <el-button @click=\"Dialoguser = false\">Cancel</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"UserCenter\",\n  components: {\n\n  },\n  data() {\n    return {\n      Dialoguser: false,\n      form: {},\n\n    }\n\n\n  },\n  created() {\n    let str = sessionStorage.getItem(\"user\") || \"{}\"\n    this.form = JSON.parse(str)\n  },\n  methods: {\n    // handleAvatarSuccess(res) {\n    //   this.form.avatar = res.data\n    //   this.$message.success(\"上传成功\")\n    //   // this.update()\n    // },\n    update() {\n      request.put(\"/usercenter/\", this.form).then(res => {\n        console.log(res)\n        if (res.code === '0') {\n          this.$message({\n            type: \"success\",\n            message: \"Update Successfully\"\n          })\n          sessionStorage.setItem(\"user\", JSON.stringify(this.form))\n          // 触发Layout更新用户信息\n          this.$emit(\"userInfo\")\n        } else {\n          this.$message({\n            type: \"error\",\n            message: res.msg\n          })\n        }\n        this.Dialoguser = false\n      })\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"AA6DA,OAAOA,OAAM,MAAO,iBAAiB;AAErC,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE,CAEZ,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,KAAK;MACjBC,IAAI,EAAE,CAAC;IAET;EAGF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAIC,GAAE,GAAIC,cAAc,CAACC,OAAO,CAAC,MAAM,KAAK,IAAG;IAC/C,IAAI,CAACJ,IAAG,GAAIK,IAAI,CAACC,KAAK,CAACJ,GAAG;EAC5B,CAAC;EACDK,OAAO,EAAE;IACP;IACA;IACA;IACA;IACA;IACAC,MAAMA,CAAA,EAAG;MACPb,OAAO,CAACc,GAAG,CAAC,cAAc,EAAE,IAAI,CAACT,IAAI,CAAC,CAACU,IAAI,CAACC,GAAE,IAAK;QACjDC,OAAO,CAACC,GAAG,CAACF,GAAG;QACf,IAAIA,GAAG,CAACG,IAAG,KAAM,GAAG,EAAE;UACpB,IAAI,CAACC,QAAQ,CAAC;YACZC,IAAI,EAAE,SAAS;YACfC,OAAO,EAAE;UACX,CAAC;UACDd,cAAc,CAACe,OAAO,CAAC,MAAM,EAAEb,IAAI,CAACc,SAAS,CAAC,IAAI,CAACnB,IAAI,CAAC;UACxD;UACA,IAAI,CAACoB,KAAK,CAAC,UAAU;QACvB,OAAO;UACL,IAAI,CAACL,QAAQ,CAAC;YACZC,IAAI,EAAE,OAAO;YACbC,OAAO,EAAEN,GAAG,CAACU;UACf,CAAC;QACH;QACA,IAAI,CAACtB,UAAS,GAAI,KAAI;MACxB,CAAC;IACH;EAEF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}